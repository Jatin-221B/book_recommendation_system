<div class="container py-5">

  <!-- Page Header -->
  <div class="d-flex justify-content-between align-items-center mb-4">
    <h1 class="fw-bold mb-0">All Books</h1>
    <%= link_to "Back to Home", root_path, class: "btn btn-outline-secondary btn-sm" %>
  </div>


  <% if @books.present? %>

    <!-- Books Grid -->
    <div class="row g-4">
      <% @books.each do |book| %>
        <div class="col-md-6 col-lg-4">
          <div class="card h-100 shadow-sm border-0">

            <div class="card-body d-flex flex-column">

              <!-- Title -->
              <h5 class="card-title fw-bold">
                <%= link_to book.title,
                            book_path(book),
                            class: "text-decoration-none text-dark" %>
              </h5>

              <!-- Author -->
              <p class="text-muted mb-2">
                by <%= link_to book.author.name,
                                author_path(book.author),
                                class: "text-decoration-none" %>
              </p>

              <!-- Genre Badge -->
              <span class="badge bg-secondary mb-3">
                <%= book.genre %>
              </span>

              <!-- Description -->
              <p class="card-text text-muted small">
                <%= truncate(book.description, length: 120) %>
              </p>

              <!-- Reviews Count -->
              <p class="mt-auto mb-2">
                <span class="badge bg-light text-dark border">
                  <%= pluralize(book.reviews.count, 'review') %>
                </span>
              </p>

              <!-- View Button -->
              <%= link_to "View Details",
                          book_path(book),
                          class: "btn btn-outline-primary btn-sm w-100" %>

            </div>

          </div>
        </div>
      <% end %>
    </div>


    <!-- Pagination -->
    <div class="mt-5 d-flex justify-content-center">
      <%= paginate @books %>
    </div>

  <% else %>

    <!-- Empty State -->
    <div class="alert alert-info text-center">
      No books available yet.
    </div>

  <% end %>

</div>